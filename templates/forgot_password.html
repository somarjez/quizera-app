<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Forgot Password - Quizera</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Full-screen fixed background container */
      #bg-container {
        position: fixed;
        inset: 0;
        z-index: 0;
        pointer-events: none;
        overflow: hidden;
        background: #e8ecf1;
      }

      /* Layered radial gradients */
      #bg-container .layer1 {
        position: absolute;
        inset: 0;
        background: radial-gradient(
            circle at 15% 25%,
            rgba(50, 100, 200, 0.45) 0%,
            transparent 40%
          ),
          radial-gradient(
            circle at 85% 75%,
            rgba(255, 140, 66, 0.33) 0%,
            transparent 45%
          ),
          radial-gradient(
            circle at 50% 50%,
            rgba(0, 120, 180, 0.25) 0%,
            transparent 70%
          );
        z-index: 0;
        opacity: 1;
      }

      /* Linear gradient overlay with animation */
      #bg-container .layer2 {
        position: absolute;
        inset: 0;
        z-index: 1;
        background: linear-gradient(
            135deg,
            transparent 0%,
            rgba(255, 255, 255, 0.5) 20%,
            transparent 50%,
            rgba(220, 225, 230, 0.5) 80%,
            transparent 100%
          ),
          linear-gradient(
            -45deg,
            transparent 0%,
            rgba(210, 215, 225, 0.4) 30%,
            transparent 60%,
            rgba(255, 255, 255, 0.3) 85%,
            transparent 100%
          );
        background-size: 400% 400%;
        opacity: 0.8;
        animation: bgfloat 28s linear infinite;
      }

      /* Soft large ellipses for depth */
      #bg-container .soft-ellipses {
        position: absolute;
        width: 220%;
        height: 220%;
        top: -60%;
        left: -60%;
        z-index: -1;
        opacity: 0.12;
        background: radial-gradient(
            ellipse 40% 35% at 30% 40%,
            rgba(150, 160, 175, 0.38),
            transparent
          ),
          radial-gradient(
            ellipse 30% 25% at 70% 60%,
            rgba(160, 170, 185, 0.34),
            transparent
          ),
          radial-gradient(
            ellipse 45% 35% at 50% 80%,
            rgba(140, 150, 165, 0.28),
            transparent
          );
        transform: translate3d(0, 0, 0);
      }

      @keyframes bgfloat {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Main content sits above background */
      .app-wrap {
        position: relative;
        z-index: 10;
      }

      html,
      body {
        height: 100%;
      }
    </style>
  </head>
  <body
    class="min-h-screen flex flex-col justify-center items-center p-6 bg-transparent overflow-y-auto"
  >
    <!-- Background container -->
    <div id="bg-container" aria-hidden="true">
      <div class="layer1"></div>
      <div class="layer2"></div>
      <div class="soft-ellipses"></div>
    </div>

    <!-- App content -->
    <div
      class="app-wrap my-auto max-w-2xl w-full bg-white/70 rounded-2xl shadow-2xl overflow-hidden flex flex-col lg:flex-row"
    >
      <!-- Left Panel - Decorative Border -->
      <div
        class="hidden lg:flex lg:w-16 text-white relative overflow-hidden"
        style="
          background: linear-gradient(
            135deg,
            #0a1e3d 0%,
            #1a3a5c 40%,
            #ff8c42 100%
          );
        "
      >
        <div class="absolute inset-0 opacity-30">
          <svg
            class="absolute top-0 left-0 w-full h-1/2"
            viewBox="0 0 500 200"
            preserveAspectRatio="none"
          >
            <path
              d="M0,100 Q125,50 250,100 T500,100 L500,0 L0,0 Z"
              fill="rgba(10, 30, 61, 0.5)"
            />
          </svg>
          <svg
            class="absolute bottom-0 left-0 w-full h-2/3"
            viewBox="0 0 500 300"
            preserveAspectRatio="none"
          >
            <path
              d="M0,150 Q125,100 250,150 T500,150 L500,300 L0,300 Z"
              fill="rgba(255, 140, 66, 0.4)"
            />
            <path
              d="M0,200 Q125,150 250,200 T500,200 L500,300 L0,300 Z"
              fill="rgba(255, 165, 0, 0.3)"
            />
          </svg>
        </div>
      </div>

      <!-- Right Panel - Forgot Password Form -->
      <div class="w-full flex-1 p-8 lg:p-12 bg-white/70 backdrop-blur-md">
        <div class="lg:hidden flex items-center mb-8">
          <span class="text-xl font-bold text-gray-800">Quizera</span>
        </div>

        <div class="mb-8 text-center">
          <h1 class="text-3xl font-bold text-gray-900 mb-2">Forgot Password</h1>
          <p class="text-gray-600">Enter your email to reset your password</p>
        </div>

        {% with messages = get_flashed_messages() %} {% if messages %}
        <div class="mb-6">
          {% for message in messages %} {% if 'successfully' in message or
          'sent' in message %}
          <div
            class="bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded mb-2"
          >
            {{ message|safe }}
          </div>
          {% else %}
          <div
            class="bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded mb-2"
          >
            {{ message|safe }}
          </div>
          {% endif %} {% endfor %}
        </div>
        {% endif %} {% endwith %}

        <form method="POST" class="space-y-5">
          <div>
            <label
              for="email"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Email Address</label
            >
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
              placeholder="Martin@gmail.com"
              value="{{ request.form.email if request.form.email }}"
            />
            <p class="mt-2 text-sm text-gray-500">
              We'll send you a link to reset your password.
            </p>
          </div>

          <button
            type="submit"
            class="w-full bg-gray-900 text-white py-3 px-4 rounded-lg hover:bg-gray-800 transition font-medium"
          >
            Send Reset Link
          </button>
        </form>

        <div class="my-6">
          <div class="relative">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-200"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="px-3 bg-white text-gray-500">Or</span>
            </div>
          </div>
        </div>

        <div class="text-center space-y-3">
          <p class="text-sm text-gray-600">
            <a
              href="{{ url_for('login') }}"
              class="text-blue-600 hover:text-blue-700 font-semibold"
              >‚Üê Back to Login</a
            >
          </p>
          <p class="text-sm text-gray-600">
            Don't have an account?
            <a
              href="{{ url_for('signup') }}"
              class="text-blue-600 hover:text-blue-700 font-semibold"
              >Sign up here</a
            >
          </p>
        </div>
      </div>
    </div>

    <script>
      // Form validation
      document.querySelector("form").addEventListener("submit", function (e) {
        const email = document.getElementById("email").value;

        if (!email) {
          alert("Please enter your email address");
          e.preventDefault();
          return;
        }

        // Simple email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          alert("Please enter a valid email address");
          e.preventDefault();
          return;
        }
      });
    </script>
  </body>
</html>
